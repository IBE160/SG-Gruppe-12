# =============================================================================
# Backend Environment Configuration
# =============================================================================
# This file contains all environment variables required for the backend API.
# For production deployment, ensure ALL secrets are changed and kept secure.
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (Supabase PostgreSQL)
# -----------------------------------------------------------------------------
# Production: Use Supabase connection string from your project settings
# Format: postgresql://postgres:[PASSWORD]@[HOST]:[PORT]/postgres
DATABASE_URL="postgresql://username:password@localhost:5432/aicv_db"

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=3001                    # Backend API port (Render will override this)
NODE_ENV=development         # Options: development | production | test

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Production: Set to your Vercel frontend URL (e.g., https://your-app.vercel.app)
FRONTEND_URL="http://localhost:3000"

# -----------------------------------------------------------------------------
# JWT Authentication Secrets
# -----------------------------------------------------------------------------
# CRITICAL: Generate strong secrets for production!
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
ACCESS_TOKEN_SECRET="your-super-secret-access-token-key-change-this-in-production"
REFRESH_TOKEN_SECRET="your-super-secret-refresh-token-key-change-this-in-production"

# -----------------------------------------------------------------------------
# Redis Configuration (Session & Rate Limiting)
# -----------------------------------------------------------------------------
# Production: Use managed Redis (Upstash, Redis Cloud, or Render Redis)
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""            # Required for production Redis instances

# -----------------------------------------------------------------------------
# Data Encryption (AES-256-GCM)
# -----------------------------------------------------------------------------
# Used for encrypting sensitive data at rest (CV content, job descriptions)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=""            # 64-character hex string (32 bytes)

# -----------------------------------------------------------------------------
# AI Provider API Keys
# -----------------------------------------------------------------------------
# Google AI (Gemini) - Primary provider
GOOGLE_AI_API_KEY=""         # Get from: https://makersuite.google.com/app/apikey

# Optional: Additional AI providers (commented out - uncomment if needed)
# OPENAI_API_KEY=""          # Get from: https://platform.openai.com/api-keys
# ANTHROPIC_API_KEY=""       # Get from: https://console.anthropic.com/

# -----------------------------------------------------------------------------
# Error Tracking & Monitoring (Sentry)
# -----------------------------------------------------------------------------
# Production: Create project at https://sentry.io
SENTRY_DSN=""                # Leave empty to disable Sentry in development

# -----------------------------------------------------------------------------
# Production Deployment Checklist
# -----------------------------------------------------------------------------
# Before deploying to production, ensure:
# ✓ DATABASE_URL points to Supabase production database
# ✓ ACCESS_TOKEN_SECRET and REFRESH_TOKEN_SECRET are strong random values
# ✓ ENCRYPTION_KEY is generated and stored securely
# ✓ REDIS_HOST and REDIS_PASSWORD are configured for managed Redis
# ✓ FRONTEND_URL matches your Vercel deployment URL
# ✓ GOOGLE_AI_API_KEY has appropriate rate limits and billing
# ✓ SENTRY_DSN is configured for error monitoring
# ✓ NODE_ENV is set to "production"
# -----------------------------------------------------------------------------
